<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36" version="26.0.6">
  <diagram name="Page-1" id="_u1gvkKbl3ZeAcSjSczg">
    <mxGraphModel dx="4094" dy="412" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="3300" pageHeight="2300" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-114" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1690" y="1858" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-110" value="" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1180" y="1812" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-140" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2415" y="1230" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="kkexLGDBU4MFBAvG1ze2-1" target="kkexLGDBU4MFBAvG1ze2-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-1" value="User browser" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="80" y="160" width="110" height="90" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-2" value="Flink" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="890" y="167" width="100" height="63" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-3" value="CDN" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="75" y="23" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.485;entryY=0.081;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="kkexLGDBU4MFBAvG1ze2-3" target="kkexLGDBU4MFBAvG1ze2-1" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-5" value="HTML ,js,images,videos&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="60" y="10" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-6" value="Adds service" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="430" y="175" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-9" value="requests for addId" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="180" y="178" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="kkexLGDBU4MFBAvG1ze2-12" target="kkexLGDBU4MFBAvG1ze2-21" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="660" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-12" value="Click capture service" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="420" y="310" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-14" value="click event" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="195" y="320" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="kkexLGDBU4MFBAvG1ze2-17" target="kkexLGDBU4MFBAvG1ze2-6" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-17" value="Add store" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="740" y="30" width="90" height="80" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=52.5;entryPerimeter=0;" parent="1" source="kkexLGDBU4MFBAvG1ze2-6" target="kkexLGDBU4MFBAvG1ze2-17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="kkexLGDBU4MFBAvG1ze2-21" target="kkexLGDBU4MFBAvG1ze2-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-48" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="kkexLGDBU4MFBAvG1ze2-21" target="kkexLGDBU4MFBAvG1ze2-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-21" value="" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;rotation=90;" parent="1" vertex="1">
          <mxGeometry x="699" y="279" width="60" height="118" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-23" value="Task runner" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="880" y="308" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-34" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="kkexLGDBU4MFBAvG1ze2-26" target="kkexLGDBU4MFBAvG1ze2-35" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1330" y="348" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1265" y="340" />
              <mxPoint x="1265" y="338" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-26" value="click data store" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="1160" y="308" width="90" height="80" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.089;entryY=0.367;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="kkexLGDBU4MFBAvG1ze2-23" target="kkexLGDBU4MFBAvG1ze2-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.75;entryDx=0;entryDy=0;" parent="1" source="kkexLGDBU4MFBAvG1ze2-28" target="kkexLGDBU4MFBAvG1ze2-12" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="300" y="360" as="targetPoint" />
            <Array as="points">
              <mxPoint x="75" y="355" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-28" value="side car js page&lt;div&gt;generates the click event&amp;nbsp;&lt;/div&gt;" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="30" y="228" width="90" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-30" value="gets add data with website url" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="530" y="158" width="180" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-31" value="" style="endArrow=classic;html=1;rounded=0;exitX=1.024;exitY=0.096;exitDx=0;exitDy=0;exitPerimeter=0;" parent="1" source="kkexLGDBU4MFBAvG1ze2-1" target="kkexLGDBU4MFBAvG1ze2-32" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="380" y="240" as="sourcePoint" />
            <mxPoint x="440" y="50" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-32" value="Add website" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="430" y="10" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-33" value="guaranteed click capture to avoid per click revenue loss. so use message broker with the below properties" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="434" y="388" width="590" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-35" value="Map reduce job" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1360" y="310" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-37" value="Aggregated DB" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="1550" y="288" width="90" height="80" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=52.5;entryPerimeter=0;" parent="1" source="kkexLGDBU4MFBAvG1ze2-35" target="kkexLGDBU4MFBAvG1ze2-37" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-39" value="For reconciliation purpose" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1120" y="397" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="kkexLGDBU4MFBAvG1ze2-40" target="kkexLGDBU4MFBAvG1ze2-2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-40" value="Analytics service" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1280" y="33" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-42" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="kkexLGDBU4MFBAvG1ze2-41" target="kkexLGDBU4MFBAvG1ze2-40" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-41" value="Actor" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" parent="1" vertex="1">
          <mxGeometry x="1540" y="30" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-45" value="Problems: Back pressure ,noisy neighbour ,consumer failure(acknowledgement + committed offsets),cuucurrent clicks(addId+timestamp)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="-265" y="528" width="750" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-46" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.244;entryY=0.058;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="kkexLGDBU4MFBAvG1ze2-40" target="kkexLGDBU4MFBAvG1ze2-37" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1370" y="290" as="sourcePoint" />
            <mxPoint x="1420" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-47" value="seelct count(*) from adds where addId = 123 and timestamp&amp;nbsp; between t1 and t2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1270" y="145" width="440" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-49" value="{&lt;div&gt;eventId&lt;/div&gt;&lt;div&gt;addId&lt;/div&gt;&lt;div&gt;timestamp&lt;/div&gt;&lt;div&gt;userMetadat:{&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1090" y="198" width="100" height="110" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-52" value="Browser" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1980" y="158" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-54" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="kkexLGDBU4MFBAvG1ze2-53" target="kkexLGDBU4MFBAvG1ze2-52" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-53" value="Actor" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" parent="1" vertex="1">
          <mxGeometry x="1860" y="158" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-55" value="CDN" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1930" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-57" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0.55;entryY=0.95;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" target="kkexLGDBU4MFBAvG1ze2-55" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2000" y="153" as="sourcePoint" />
            <mxPoint x="2050" y="103" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-58" value="Add placement service" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2260" y="158" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-59" value="Add capture service" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2260" y="248" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-60" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=0.939;exitY=0.478;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="kkexLGDBU4MFBAvG1ze2-52" target="kkexLGDBU4MFBAvG1ze2-58" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2130" y="200" as="sourcePoint" />
            <mxPoint x="2180" y="150" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-61" value="DB" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="2530" y="138" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-62" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0;entryY=1;entryDx=0;entryDy=-15;entryPerimeter=0;exitX=1;exitY=0.75;exitDx=0;exitDy=0;" parent="1" source="kkexLGDBU4MFBAvG1ze2-58" target="kkexLGDBU4MFBAvG1ze2-61" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2380" y="120" as="sourcePoint" />
            <mxPoint x="2430" y="70" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-63" value="{&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;addId:12345&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;redirectUrl:https://some-website.com}&lt;/span&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2600" y="50" width="220" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-65" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="kkexLGDBU4MFBAvG1ze2-64" target="kkexLGDBU4MFBAvG1ze2-59" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-64" value="Side car JS" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="1940" y="208" width="80" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-66" value="advertisers-website" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2260" y="30" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-68" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.628;exitY=0.033;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="kkexLGDBU4MFBAvG1ze2-52" target="kkexLGDBU4MFBAvG1ze2-66" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2180" y="200" as="sourcePoint" />
            <mxPoint x="2230" y="150" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-69" value="Problem: User can extract the redirect url and only go to website to avoid the contribution to metrics&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1900" y="320" width="550" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-70" value="1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1995" y="98" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-71" value="2" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2145" y="158" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-72" value="3" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2125" y="88" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-73" value="3" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2085" y="238" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-90" value="Browser" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2070" y="598" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-91" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="kkexLGDBU4MFBAvG1ze2-92" target="kkexLGDBU4MFBAvG1ze2-90" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-92" value="Actor" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" parent="1" vertex="1">
          <mxGeometry x="1950" y="598" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-93" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0.55;entryY=0.95;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2090" y="593" as="sourcePoint" />
            <mxPoint x="2086" y="516" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-94" value="Add placement service" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2350" y="598" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-109" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="kkexLGDBU4MFBAvG1ze2-95" target="kkexLGDBU4MFBAvG1ze2-108" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-95" value="Add capture service" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2350" y="688" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-96" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=0.939;exitY=0.478;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="kkexLGDBU4MFBAvG1ze2-90" target="kkexLGDBU4MFBAvG1ze2-94" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2220" y="640" as="sourcePoint" />
            <mxPoint x="2270" y="590" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-97" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0;entryY=1;entryDx=0;entryDy=-15;entryPerimeter=0;exitX=1;exitY=0.75;exitDx=0;exitDy=0;" parent="1" source="kkexLGDBU4MFBAvG1ze2-94" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2470" y="560" as="sourcePoint" />
            <mxPoint x="2620" y="643" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-100" value="advertisers-website" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2350" y="470" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-101" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.628;exitY=0.033;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="kkexLGDBU4MFBAvG1ze2-90" target="kkexLGDBU4MFBAvG1ze2-100" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2270" y="640" as="sourcePoint" />
            <mxPoint x="2320" y="590" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-102" value="1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2085" y="538" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-103" value="2(only addId)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2205" y="598" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-104" value="5" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2215" y="528" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-105" value="3" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2175" y="678" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-106" value="CDN" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2025" y="448" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-107" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.05;entryY=0.644;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="kkexLGDBU4MFBAvG1ze2-90" target="kkexLGDBU4MFBAvG1ze2-95" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2180" y="560" as="sourcePoint" />
            <mxPoint x="2230" y="510" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-108" value="DB" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="2620" y="598" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-111" value="getRedirectUrl(addId)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2190" y="658" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-112" value="" style="endArrow=classic;html=1;rounded=0;exitX=-0.033;exitY=0.889;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0.25;entryY=1;entryDx=0;entryDy=0;" parent="1" source="kkexLGDBU4MFBAvG1ze2-95" target="kkexLGDBU4MFBAvG1ze2-90" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2260" y="770" as="sourcePoint" />
            <mxPoint x="2310" y="720" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-113" value="responds back with 302" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2175" y="728" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-114" value="4" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2515" y="688" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-115" value="optimization 1:" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1930" y="408" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-116" value="Problem : what happens if the add capture service down ? loss of add click" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1940" y="808" width="420" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-117" value="Browser" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2190" y="1048" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-118" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="kkexLGDBU4MFBAvG1ze2-119" target="kkexLGDBU4MFBAvG1ze2-117" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-119" value="Actor" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" parent="1" vertex="1">
          <mxGeometry x="2070" y="1048" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-120" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0.55;entryY=0.95;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2210" y="1043" as="sourcePoint" />
            <mxPoint x="2206" y="966" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-121" value="Add placement service" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2470" y="1048" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-122" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="kkexLGDBU4MFBAvG1ze2-123" target="kkexLGDBU4MFBAvG1ze2-133" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-123" value="Add capture service" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2395" y="1260" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-124" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=0.939;exitY=0.478;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="kkexLGDBU4MFBAvG1ze2-117" target="kkexLGDBU4MFBAvG1ze2-121" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2340" y="1090" as="sourcePoint" />
            <mxPoint x="2390" y="1040" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-125" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0;entryY=1;entryDx=0;entryDy=-15;entryPerimeter=0;exitX=1;exitY=0.75;exitDx=0;exitDy=0;" parent="1" source="kkexLGDBU4MFBAvG1ze2-121" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2590" y="1010" as="sourcePoint" />
            <mxPoint x="2740" y="1093" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-126" value="advertisers-website" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2470" y="920" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-127" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.628;exitY=0.033;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" parent="1" source="kkexLGDBU4MFBAvG1ze2-117" target="kkexLGDBU4MFBAvG1ze2-126" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2390" y="1090" as="sourcePoint" />
            <mxPoint x="2440" y="1040" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-128" value="1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2205" y="988" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-129" value="2(only addId)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2325" y="1048" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-130" value="5" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2335" y="978" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-131" value="3" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2295" y="1128" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-133" value="DB" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" parent="1" vertex="1">
          <mxGeometry x="2740" y="1048" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-134" value="getRedirectUrl(addId)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2310" y="1108" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-136" value="responds back with 302" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2115" y="1260" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-137" value="4" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="2635" y="1138" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-138" value="" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2155" y="900" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-139" value="Retry" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="2160" y="1090" width="75" height="28" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-141" value="optimization 3:&amp;nbsp;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="1950" y="878" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="1" source="kkexLGDBU4MFBAvG1ze2-142" target="kkexLGDBU4MFBAvG1ze2-123">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="kkexLGDBU4MFBAvG1ze2-142" value="Load balancer" style="rounded=1;whiteSpace=wrap;html=1;arcSize=13;" parent="1" vertex="1">
          <mxGeometry x="2260" y="1180" width="40" height="160" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1.002;entryY=-0.111;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="kkexLGDBU4MFBAvG1ze2-139" target="kkexLGDBU4MFBAvG1ze2-136">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2198" y="1257" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-3" value="Batch processing" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="2020" y="1398" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-5" value="Browser" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2370" y="1578" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="gwlz6u2VsFj4AIDdyvzI-7" target="gwlz6u2VsFj4AIDdyvzI-5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-7" value="Actor" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" vertex="1" parent="1">
          <mxGeometry x="2250" y="1578" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-8" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0.55;entryY=0.95;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2390" y="1573" as="sourcePoint" />
            <mxPoint x="2386" y="1496" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-9" value="Add placement service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="2650" y="1578" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="gwlz6u2VsFj4AIDdyvzI-11" target="gwlz6u2VsFj4AIDdyvzI-20">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2820" y="1810" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-11" value="Add capture service" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2575" y="1780" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-12" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=0.939;exitY=0.478;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="gwlz6u2VsFj4AIDdyvzI-5" target="gwlz6u2VsFj4AIDdyvzI-9">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2520" y="1620" as="sourcePoint" />
            <mxPoint x="2570" y="1570" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-14" value="advertisers-website" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="2650" y="1450" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-15" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.628;exitY=0.033;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="1" source="gwlz6u2VsFj4AIDdyvzI-5" target="gwlz6u2VsFj4AIDdyvzI-14">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2570" y="1620" as="sourcePoint" />
            <mxPoint x="2620" y="1570" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-16" value="1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="2385" y="1518" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-17" value="2(only addId)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="2505" y="1578" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-18" value="5" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="2515" y="1508" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-19" value="3" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="2475" y="1658" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-21" value="getRedirectUrl(addId)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="2490" y="1638" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-22" value="responds back with 302" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="2295" y="1790" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-23" value="4" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="2815" y="1668" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="1" target="gwlz6u2VsFj4AIDdyvzI-11">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2480" y="1790" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2378" y="1787" />
            </Array>
            <mxPoint x="2377.5" y="1648" as="sourcePoint" />
            <mxPoint x="2480" y="1787" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-28" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.75;exitDx=0;exitDy=0;" edge="1" parent="1" source="gwlz6u2VsFj4AIDdyvzI-11" target="gwlz6u2VsFj4AIDdyvzI-29">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2860" y="1830" as="sourcePoint" />
            <mxPoint x="3100" y="1820" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="gwlz6u2VsFj4AIDdyvzI-29" target="gwlz6u2VsFj4AIDdyvzI-34">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-29" value="Click store" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="3070" y="1780" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-30" value="Write optimized" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="3060" y="1878" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-31" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0;entryY=1;entryDx=0;entryDy=-15;entryPerimeter=0;exitX=1;exitY=0.75;exitDx=0;exitDy=0;" edge="1" parent="1" source="gwlz6u2VsFj4AIDdyvzI-9" target="gwlz6u2VsFj4AIDdyvzI-20">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2770" y="1623" as="sourcePoint" />
            <mxPoint x="2920" y="1623" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-20" value="DB" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="2820" y="1568" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-32" value="cron schdeuler" style="shape=process;whiteSpace=wrap;html=1;backgroundOutline=1;" vertex="1" parent="1">
          <mxGeometry x="3190" y="1688" width="95" height="38" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="gwlz6u2VsFj4AIDdyvzI-34">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="3100" y="1540" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-34" value="spark jpob" style="shape=cube;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;darkOpacity=0.05;darkOpacity2=0.1;" vertex="1" parent="1">
          <mxGeometry x="3055" y="1658" width="90" height="58" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-36" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.915;entryY=0.609;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="gwlz6u2VsFj4AIDdyvzI-32" target="gwlz6u2VsFj4AIDdyvzI-34">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-37" value="every 5 minutes" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="3165" y="1648" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-38" value="Db" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="3070" y="1455" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-40" value="Aggregated Data" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="3095" y="1588" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-41" value="Read optimized" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="3145" y="1480" width="110" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-42" value="Analytics service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="2850" y="1448" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-43" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.167;entryY=0.533;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="gwlz6u2VsFj4AIDdyvzI-14" target="gwlz6u2VsFj4AIDdyvzI-42">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.122;entryY=0.283;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="gwlz6u2VsFj4AIDdyvzI-42" target="gwlz6u2VsFj4AIDdyvzI-38">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-45" value="read raw data" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="3100" y="1748" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-46" value="Problems: No gauranteed add click capture in DB , spark job can bring 5min ,2 mins,1 min,30sec and it has limit in frequency." style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1925" y="1918" width="690" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-47" value="Optimization 4:Use stream processing for real time stream processing involes kafka" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1935" y="1998" width="470" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-48" value="Questions : Why 2 DBs for read and write?" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1925" y="1948" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-49" value="CDN" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="2325" y="1420" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-74" value="Batch processing" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="600" y="1450" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-75" value="Load balncer" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="950" y="1630" width="70" height="140" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-76" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="gwlz6u2VsFj4AIDdyvzI-77" target="gwlz6u2VsFj4AIDdyvzI-75">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-77" value="" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" vertex="1" parent="1">
          <mxGeometry x="830" y="1630" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-78" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;" edge="1" parent="1" target="gwlz6u2VsFj4AIDdyvzI-97">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="847" y="1613.5" as="sourcePoint" />
            <mxPoint x="843" y="1536.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-79" value="Add placement service" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="1230" y="1630" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-80" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="gwlz6u2VsFj4AIDdyvzI-81" target="gwlz6u2VsFj4AIDdyvzI-95">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1400" y="1862" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-81" value="Add capture service" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1155" y="1832" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-82" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;exitX=0.939;exitY=0.478;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="gwlz6u2VsFj4AIDdyvzI-75" target="gwlz6u2VsFj4AIDdyvzI-79">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1100" y="1672" as="sourcePoint" />
            <mxPoint x="1150" y="1622" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-83" value="advertisers-website" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="1230" y="1502" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-84" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.628;exitY=0.033;exitDx=0;exitDy=0;exitPerimeter=0;entryX=0;entryY=0.25;entryDx=0;entryDy=0;" edge="1" parent="1" source="gwlz6u2VsFj4AIDdyvzI-75" target="gwlz6u2VsFj4AIDdyvzI-83">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1150" y="1672" as="sourcePoint" />
            <mxPoint x="1200" y="1622" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-85" value="1" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="965" y="1570" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-86" value="2(only addId)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1085" y="1630" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-87" value="5" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1095" y="1560" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-88" value="3" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1055" y="1710" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-89" value="getRedirectUrl(addId)" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1070" y="1690" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-90" value="responds back with 302" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="875" y="1842" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-91" value="4" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1395" y="1720" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-92" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.25;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" edge="1" parent="1" target="gwlz6u2VsFj4AIDdyvzI-81" source="gwlz6u2VsFj4AIDdyvzI-75">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1060" y="1842" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-94" value="" style="endArrow=classic;startArrow=classic;html=1;rounded=0;entryX=0;entryY=1;entryDx=0;entryDy=-15;entryPerimeter=0;exitX=1;exitY=0.75;exitDx=0;exitDy=0;" edge="1" parent="1" source="gwlz6u2VsFj4AIDdyvzI-79" target="gwlz6u2VsFj4AIDdyvzI-95">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1350" y="1675" as="sourcePoint" />
            <mxPoint x="1500" y="1675" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-95" value="DB" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1400" y="1620" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-96" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.167;entryY=0.533;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="gwlz6u2VsFj4AIDdyvzI-83">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1450" y="1532" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-97" value="CDN" style="ellipse;shape=cloud;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="785" y="1458" width="120" height="80" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-98" value="" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;rotation=90;" vertex="1" parent="1">
          <mxGeometry x="1490" y="1835" width="50" height="150" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-99" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.855;entryY=1;entryDx=0;entryDy=-4.35;entryPerimeter=0;" edge="1" parent="1" source="gwlz6u2VsFj4AIDdyvzI-81" target="gwlz6u2VsFj4AIDdyvzI-98">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1358" y="1862" />
              <mxPoint x="1358" y="1910" />
              <mxPoint x="1444" y="1910" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-100" value="Data kinesis stream" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1450" y="1860" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-104" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="gwlz6u2VsFj4AIDdyvzI-101" target="gwlz6u2VsFj4AIDdyvzI-105">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1740" y="1730" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-101" value="Apache Flink" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1680" y="1878" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-102" value="Stream processing engine" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1670" y="1938" width="160" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-103" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.006;entryY=0.622;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="gwlz6u2VsFj4AIDdyvzI-98" target="gwlz6u2VsFj4AIDdyvzI-101">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-105" value="OLAP" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;" vertex="1" parent="1">
          <mxGeometry x="1710" y="1690" width="60" height="80" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-106" value="Analytics service" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1455" y="1502" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-107" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.333;entryY=-0.025;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="gwlz6u2VsFj4AIDdyvzI-106" target="gwlz6u2VsFj4AIDdyvzI-105">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-108" value="window period of 1minute but with flush intervals for 10s can write partail data" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1455" y="1955" width="440" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-109" value="{&lt;div&gt;addId: 124&lt;/div&gt;&lt;div&gt;minute:45th&amp;nbsp;&lt;/div&gt;&lt;div&gt;count :134&lt;/div&gt;&lt;div&gt;advertiserId : 323&lt;/div&gt;&lt;div&gt;}&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1770" y="1690" width="120" height="100" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-112" value="Browser" style="rounded=1;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="780" y="1620" width="120" height="73" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-113" value="For stream scaling:shard based on appId&amp;nbsp; but for celebrity problem take appId and further shard appId+[0:n] partions" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="1140" y="1998" width="640" height="30" as="geometry" />
        </mxCell>
        <mxCell id="gwlz6u2VsFj4AIDdyvzI-115" value="problems: As flink is doing in memory count, statefule job, goes down?&lt;div&gt;Ans)Enable Retention policy for 7 days and read again from last flushed record offset&amp;nbsp;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" vertex="1" parent="1">
          <mxGeometry x="920" y="2023" width="480" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
